var u=Object.defineProperty;var g=(s,t,e)=>t in s?u(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var l=(s,t,e)=>(g(s,typeof t!="symbol"?t+"":t,e),e);import _ from"./Icon.9ccd04f4.js";import{n as f,q as w,s as v,u as y,v as b,x as k,r as x,y as F,o as i,c as n,z as p,F as d,A as h,a as c,b as A,t as N}from"./entry.7d02c6c7.js";import"./config.6a4e701c.js";class P{static async getAllFiles(t){const{$firebaseStorage:e}=b(),a=f(e,t);let r=await w(a);return await Promise.all(r.items.map(async m=>({path:await v(m),file:m,metadata:(await y(m)).customMetadata??{}})))}}class S{constructor(t,e,a,r){l(this,"path");l(this,"name");l(this,"shortcode");l(this,"likes");this.path=t,this.name=e,this.shortcode=a,this.likes=r}get timestamp(){return Number.parseInt(this.name.split("-")[1].replace(".jpg",""))}}class B{static async getAllFiles(t){return(await P.getAllFiles(t)).map(e=>new S(e.path,e.file.name,e.metadata.shortcode,Number.parseInt(e.metadata.likes))).sort((e,a)=>a.timestamp-e.timestamp)}}const C={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mt-10"},D={class:"group"},I=["href"],M=["src"],$={class:"absolute top-0 w-full h-full justify-center items-center bg-bg-article-dark/[.40] hidden group-hover:flex group-hover:scale-[1.02] scale-100 transition-scale duration-200"},j={class:"text-white header"},q={class:"bg-gray w-full aspect-square rounded-md animate-pulse"},z=k({__name:"collection",setup(s){let t=x([]);return F(async()=>{t.value=await B.getAllFiles("instagram")}),(e,a)=>{const r=_;return i(),n("div",C,[p(t).length>0?(i(!0),n(d,{key:0},h(p(t),o=>(i(),n("div",D,[c("a",{href:`https://www.instagram.com/p/${o.shortcode}/`,target:"_blank",class:"relative"},[c("img",{class:"rounded cursor-pointer group-hover:scale-[1.02] scale-100 transition-scale duration-200",src:o.path,alt:""},null,8,M),c("div",$,[A(r,{name:"material-symbols:favorite",color:"white",class:"w-[30px] h-[30px]"}),c("p",j,N(o.likes),1)])],8,I)]))),256)):(i(!0),n(d,{key:1},h(Array(10),o=>(i(),n("div",q))),256))])}}});export{z as default};
